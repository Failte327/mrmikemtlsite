{% extends "base.html" %}

{% block content %}
<div class="flex flex-col lg:flex-row gap-8 items-stretch justify-center">
    
    <div class="flex-1 flex flex-col bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl overflow-hidden">
        <h3 class="text-xl font-bold text-white text-center py-4 bg-blue-600 uppercase tracking-wider">
            Upcoming Tournaments
        </h3>
        
        <div class="flex-grow divide-y divide-slate-800">
            {% for tournament in upcoming_tournaments %}
                {% if loop.index < 4 %}
                <div class="p-6 text-center hover:bg-slate-800 transition-colors h-full flex flex-col justify-center">
                    <p class="text-white font-semibold text-lg mb-1">
                        {{ tournament[0] }}{{ tournament[1] }}
                    </p>
                    <p class="text-gray-400 text-sm mb-3 leading-relaxed">{{ tournament[2] }}</p>
                    <a href="{{ 'https://' + tournament[3] }}" class="text-blue-400 hover:text-blue-300 font-medium underline break-all">
                        {{ tournament[3] }}
                    </a>
                </div>
                {% endif %}
            {% endfor %}

            {% if upcoming_tournaments|length == 0 %}
            <div class="p-10 text-center text-gray-500 italic">
                No upcoming tournaments scheduled. Check back soon!
            </div>
            {% endif %}
        </div>
        
        {% if upcoming_tournaments|length > 3 %}
        <div class="bg-slate-800 p-4 text-center mt-auto border-t border-slate-700">
            <a href="/upcoming" class="text-white font-bold hover:text-blue-400 transition-colors">See More â†’</a>
        </div>
        {% endif %}
    </div>

    <div class="flex-1 flex flex-col bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl overflow-hidden">
    <h3 class="text-xl font-bold text-white text-center py-4 bg-blue-600 uppercase tracking-wider">
        Community News
    </h3>
    <div class="flex-grow divide-y divide-slate-800">
        {% for post in posts %}
        <div class="p-6">
            <h4 class="text-blue-400 font-bold text-lg"><a href="/news?post={{ post.title }}">{{ post.title }}</a></h4>
            <p class="text-gray-400 text-sm mt-2 line-clamp-3">{{ post.content }}</p>
            <div class="mt-4 flex justify-between items-center text-xs text-gray-500">
                <span>By {{ post.author }}</span>
                <span>{{ post.date[:10] }}</span>
            </div>
        </div>
        {% else %}
        <div class="p-10 text-center text-gray-500 italic">No news yet.</div>
        {% endfor %}
    </div>
</div>

</div>
{% endblock %}